<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="/assets/css/rr-style.css" type="text/css">

	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	 crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
	<script src="https://use.fontawesome.com/9497edb156.js"></script>

	<title>Rally or Riot!</title>
</head>

<body>

	{{!-- NAVIGATION START --}}

	<nav role="navigation">
		<div class="nav-wrapper container">
			<a id="logo-container" href="/" class="brand-logo">Rally or Riot</a>

			<ul class="right hide-on-med-and-down">
				{{#if user}}
				<li>
					<a href="/explore"><i class="fa fa-compass" aria-hidden="true"></i> Explore</a>
				</li>
				<li style="padding:0 10px 0 10px">|</li>
				<li>
					<a href="profile/{{user.username}}">
						<i class="fa fa-user-circle" aria-hidden="true"></i>
						{{user.username}}
					</a>
				</li>
				<li><a href="/signout"><i class="fa fa-sign-out" aria-hidden="true"></i> Sign Out</a></li>
				{{^}}
				<li><a href="/signup"><i class="fa fa-user-plus" aria-hidden="true"></i> Sign Up</a></li>
				<li><a href="/signin"><i class="fa fa-sign-in" aria-hidden="true"></i> Sign In</a></li>
					{{/if}}
			</ul>

			<ul id="nav-mobile" class="side-nav">
				{{#if user}}
				<li>Hello, {{user.username}}</li>
				<li><a href="/signout">Sign Out</a></li>
				{{^}}
				<li><a href="/signup">Sign Up</a></li>
				<li><a href="/signin">Sign In</a></li>
				{{/if}} </ul>
			<a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
		</div>
	</nav>

	{{!-- NAVIGATION END - WITH MOBILE RESPONSIVE COLLAPSIBLE BURGER MENU --}}

	<main>
		{{{ body }}}
	</main>

	{{!-- FOOTER BELOW --}}
	<div class="footpush"></div>
	<footer class="page-footer grey darken-4">
		<div class="container">
			<div class="row">
				<div class="col l6 s12">
					<h5 class="white-text">About Us</h5>
					<p class="grey-text text-lighten-4">Based in sunny San Diego, Rally or Riot is the brainchild of Dayton Mills, Jeanelle Sebastian, Jeff Palin, Nick Saponaro, and Rowinn Dionisio.</p>
				</div>
				<div class="col l4 offset-l2 s12">
					<h5 class="white-text">Connect With Us</h5>
					<ul>
						<li><a class="grey-text text-lighten-3" href="#!">Facebook</a></li>
						<li><a class="grey-text text-lighten-3" href="#!">Twitter</a></li>
						<li><a class="grey-text text-lighten-3" href="#!">Instagram</a></li>
						<li><a class="grey-text text-lighten-3" href="#!">Snapchat</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="footer-copyright">
			<div class="container">
				Â© 2017 Copyright Text {{!-- <a class="grey-text text-lighten-4 right" href="#!">More Links</a> --}}
			</div>
		</div>
	</footer>

	{{!-- END FOOTER --}}

	<script>
		(function ($) {
			$(function () {
				$('.button-collapse').sideNav();
				$('.modal').modal();
				$('#modal1').modal(open);
				$('.modal-trigger').modal();
			}); // end of document ready
		})(jQuery); // end of jQuery name space

		var urlLocation = window.location.pathname;
		var navBar = $(".right.hide-on-med-and-down li a");
		var navLength = navBar.length;
		
		// loop through all the nav elements
		for(var i = 0; i < navLength; i++) {
			// getting the href for each a tag
			var pathName = $(navBar[i]).attr("href");
			
			// if the href value is the same as the urlLocation
			if(pathName === urlLocation) {
				// add a class to that element
				$(navBar[i]).addClass("active");
				// and break out the loop
				break;
			} else if (pathName.includes("profile")) {
				// catching our edge case for the profile
				$(navBar[i]).addClass("active");
				break;
			}
		}

	</script>

	<script>
		
		(function ($) {
			$(function () {
				$('.button-collapse').sideNav();
			}); // end of document ready
		})(jQuery); // end of jQuery name space

	</script>
</body>

</html>